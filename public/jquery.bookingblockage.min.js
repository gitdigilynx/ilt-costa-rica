$(document).ready(function() {
    if (window.location.href.indexOf('entity=BookingBlockage') > -1) {
     
        let target = $("input#bookingblockage_date");
    
        if (target.length > 0) {
            
            target.prop("readonly", true);
            target.datepicker({
                dateFormat: 'MM dd, yy',
                minDate: new Date(),
                onSelect: function () {
                    $(this).trigger("input");
                }
            });
        }
    
        // Listen for changes in the vehicleTypes select box
        $("#bookingblockage_jbjType option:first").remove();
        $('#bookingblockage_jbjType').parents('.form-group.field-choice').hide();
        $('#bookingblockage_vehicleTypes').change(function() {
            if ( $.inArray('4', $(this).val() ) !== -1) {
                $('#bookingblockage_jbjType').parents('.form-group.field-choice').show(); // Show the JBJ Type field
            } else {
                $('#bookingblockage_jbjType').parents('.form-group.field-choice').hide(); // Hide the JBJ Type field
            }
        });

        var customCss = '<style>table.datagrid {overflow-x: auto;}table.datagrid td {white-space: nowrap;overflow: hidden;text-overflow: ellipsis;}</style>';

        // Append the style element to the page's head section
        $("head").append(customCss);
    }
});